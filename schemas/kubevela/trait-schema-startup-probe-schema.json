{"default":{"containerName":"","failureThreshold":3,"initialDelaySeconds":0,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"oneOf":[{"required":["containerName","initialDelaySeconds","periodSeconds","timeoutSeconds","successThreshold","failureThreshold"]},{"required":["probes"]}],"properties":{"containerName":{"default":"","description":"Specify the name of the target container, if not set, use the component name","title":"containerName","type":"string"},"exec":{"description":"Instructions for assessing container startup status by executing a command. Either this attribute or the httpGet attribute or the grpc attribute or the tcpSocket attribute MUST be specified. This attribute is mutually exclusive with the httpGet attribute and the tcpSocket attribute and the gRPC attribute.","properties":{"command":{"description":"A command to be executed inside the container to assess its health. Each space delimited token of the command is a separate array element. Commands exiting 0 are considered to be successful probes, whilst all other exit codes are considered failures.","items":{"type":"string"},"title":"command","type":"array"}},"required":["command"],"title":"exec","type":"object"},"failureThreshold":{"default":3,"description":"Minimum consecutive failures for the probe to be considered failed after having succeeded. Minimum value is 1.","title":"failureThreshold","type":"integer"},"grpc":{"description":"Instructions for assessing container startup status by probing a gRPC service. Either this attribute or the exec attribute or the grpc attribute or the httpGet attribute MUST be specified. This attribute is mutually exclusive with the exec attribute and the httpGet attribute and the tcpSocket attribute.","properties":{"port":{"description":"The port number of the gRPC service.","title":"port","type":"integer"},"service":{"description":"The name of the service to place in the gRPC HealthCheckRequest","title":"service","type":"string"}},"required":["port"],"title":"grpc","type":"object"},"httpGet":{"description":"Instructions for assessing container startup status by executing an HTTP GET request. Either this attribute or the exec attribute or the grpc attribute or the tcpSocket attribute MUST be specified. This attribute is mutually exclusive with the exec attribute and the tcpSocket attribute and the gRPC attribute.","properties":{"host":{"description":"The hostname to connect to, defaults to the pod IP. You probably want to set \"Host\" in httpHeaders instead.","title":"host","type":"string"},"httpHeaders":{"description":"Custom headers to set in the request. HTTP allows repeated headers.","items":{"properties":{"name":{"description":"The header field name","title":"name","type":"string"},"value":{"description":"The header field value","title":"value","type":"string"}},"required":["name","value"],"type":"object"},"title":"httpHeaders","type":"array"},"path":{"description":"The endpoint, relative to the port, to which the HTTP GET request should be directed.","title":"path","type":"string"},"port":{"description":"The port numer to access on the host or container.","title":"port","type":"integer"},"scheme":{"default":"HTTP","description":"The Scheme to use for connecting to the host.","enum":["HTTP","HTTPS"],"title":"scheme","type":"string"}},"required":["port"],"title":"httpGet","type":"object"},"initialDelaySeconds":{"default":0,"description":"Number of seconds after the container has started before liveness probes are initiated. Minimum value is 0.","title":"initialDelaySeconds","type":"integer"},"periodSeconds":{"default":10,"description":"How often, in seconds, to execute the probe. Minimum value is 1.","title":"periodSeconds","type":"integer"},"probes":{"description":"Specify the startup probe for multiple containers","items":{"properties":{"containerName":{"default":"","description":"Specify the name of the target container, if not set, use the component name","title":"containerName","type":"string"},"exec":{"description":"Instructions for assessing container startup status by executing a command. Either this attribute or the httpGet attribute or the grpc attribute or the tcpSocket attribute MUST be specified. This attribute is mutually exclusive with the httpGet attribute and the tcpSocket attribute and the gRPC attribute.","properties":{"command":{"description":"A command to be executed inside the container to assess its health. Each space delimited token of the command is a separate array element. Commands exiting 0 are considered to be successful probes, whilst all other exit codes are considered failures.","items":{"type":"string"},"title":"command","type":"array"}},"required":["command"],"title":"exec","type":"object"},"failureThreshold":{"default":3,"description":"Minimum consecutive failures for the probe to be considered failed after having succeeded. Minimum value is 1.","title":"failureThreshold","type":"integer"},"grpc":{"description":"Instructions for assessing container startup status by probing a gRPC service. Either this attribute or the exec attribute or the grpc attribute or the httpGet attribute MUST be specified. This attribute is mutually exclusive with the exec attribute and the httpGet attribute and the tcpSocket attribute.","properties":{"port":{"description":"The port number of the gRPC service.","title":"port","type":"integer"},"service":{"description":"The name of the service to place in the gRPC HealthCheckRequest","title":"service","type":"string"}},"required":["port"],"title":"grpc","type":"object"},"httpGet":{"description":"Instructions for assessing container startup status by executing an HTTP GET request. Either this attribute or the exec attribute or the grpc attribute or the tcpSocket attribute MUST be specified. This attribute is mutually exclusive with the exec attribute and the tcpSocket attribute and the gRPC attribute.","properties":{"host":{"description":"The hostname to connect to, defaults to the pod IP. You probably want to set \"Host\" in httpHeaders instead.","title":"host","type":"string"},"httpHeaders":{"description":"Custom headers to set in the request. HTTP allows repeated headers.","items":{"properties":{"name":{"description":"The header field name","title":"name","type":"string"},"value":{"description":"The header field value","title":"value","type":"string"}},"required":["name","value"],"type":"object"},"title":"httpHeaders","type":"array"},"path":{"description":"The endpoint, relative to the port, to which the HTTP GET request should be directed.","title":"path","type":"string"},"port":{"description":"The port numer to access on the host or container.","title":"port","type":"integer"},"scheme":{"default":"HTTP","description":"The Scheme to use for connecting to the host.","enum":["HTTP","HTTPS"],"title":"scheme","type":"string"}},"required":["port"],"title":"httpGet","type":"object"},"initialDelaySeconds":{"default":0,"description":"Number of seconds after the container has started before liveness probes are initiated. Minimum value is 0.","title":"initialDelaySeconds","type":"integer"},"periodSeconds":{"default":10,"description":"How often, in seconds, to execute the probe. Minimum value is 1.","title":"periodSeconds","type":"integer"},"successThreshold":{"default":1,"description":"Minimum consecutive successes for the probe to be considered successful after having failed.  Minimum value is 1.","title":"successThreshold","type":"integer"},"tcpSocket":{"description":"Instructions for assessing container startup status by probing a TCP socket. Either this attribute or the exec attribute or the tcpSocket attribute or the httpGet attribute MUST be specified. This attribute is mutually exclusive with the exec attribute and the httpGet attribute and the gRPC attribute.","properties":{"host":{"description":"Host name to connect to, defaults to the pod IP.","title":"host","type":"string"},"port":{"description":"Number or name of the port to access on the container.","title":"port","type":"integer"}},"required":["port"],"title":"tcpSocket","type":"object"},"terminationGracePeriodSeconds":{"description":"Optional duration in seconds the pod needs to terminate gracefully upon probe failure. Set this value longer than the expected cleanup time for your process.","title":"terminationGracePeriodSeconds","type":"integer"},"timeoutSeconds":{"default":1,"description":"Number of seconds after which the probe times out. Minimum value is 1.","title":"timeoutSeconds","type":"integer"}},"required":["containerName","initialDelaySeconds","periodSeconds","timeoutSeconds","successThreshold","failureThreshold"],"type":"object"},"title":"probes","type":"array"},"successThreshold":{"default":1,"description":"Minimum consecutive successes for the probe to be considered successful after having failed.  Minimum value is 1.","title":"successThreshold","type":"integer"},"tcpSocket":{"description":"Instructions for assessing container startup status by probing a TCP socket. Either this attribute or the exec attribute or the tcpSocket attribute or the httpGet attribute MUST be specified. This attribute is mutually exclusive with the exec attribute and the httpGet attribute and the gRPC attribute.","properties":{"host":{"description":"Host name to connect to, defaults to the pod IP.","title":"host","type":"string"},"port":{"description":"Number or name of the port to access on the container.","title":"port","type":"integer"}},"required":["port"],"title":"tcpSocket","type":"object"},"terminationGracePeriodSeconds":{"description":"Optional duration in seconds the pod needs to terminate gracefully upon probe failure. Set this value longer than the expected cleanup time for your process.","title":"terminationGracePeriodSeconds","type":"integer"},"timeoutSeconds":{"default":1,"description":"Number of seconds after which the probe times out. Minimum value is 1.","title":"timeoutSeconds","type":"integer"}},"type":"object"}