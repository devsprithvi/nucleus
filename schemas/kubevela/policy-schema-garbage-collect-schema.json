{
  "properties": {
    "applicationRevisionLimit": {
      "description": "If set, it will override the default revision limit number and customize this number for the current application",
      "title": "applicationRevisionLimit",
      "type": "integer"
    },
    "continueOnFailure": {
      "default": false,
      "description": "If is set, continue to execute gc when the workflow fails, by default gc will be executed only after the workflow succeeds",
      "title": "continueOnFailure",
      "type": "boolean"
    },
    "keepLegacyResource": {
      "default": false,
      "description": "If is set, outdated versioned resourcetracker will not be recycled automatically, outdated resources will be kept until resourcetracker be deleted manually",
      "title": "keepLegacyResource",
      "type": "boolean"
    },
    "rules": {
      "description": "Specify the list of rules to control gc strategy at resource level, if one resource is controlled by multiple rules, first rule will be used",
      "items": {
        "properties": {
          "propagation": {
            "description": "Specify the deletion propagation strategy for target resource to delete",
            "enum": [
              "orphan",
              "cascading"
            ],
            "title": "propagation",
            "type": "string"
          },
          "selector": {
            "description": "Specify how to select the targets of the rule",
            "properties": {
              "componentNames": {
                "description": "Select resources by component names",
                "items": {
                  "type": "string"
                },
                "title": "componentNames",
                "type": "array"
              },
              "componentTypes": {
                "description": "Select resources by component types",
                "items": {
                  "type": "string"
                },
                "title": "componentTypes",
                "type": "array"
              },
              "oamTypes": {
                "description": "Select resources by oamTypes (COMPONENT or TRAIT)",
                "items": {
                  "type": "string"
                },
                "title": "oamTypes",
                "type": "array"
              },
              "resourceNames": {
                "description": "Select resources by their names",
                "items": {
                  "type": "string"
                },
                "title": "resourceNames",
                "type": "array"
              },
              "resourceTypes": {
                "description": "Select resources by resource types (like Deployment)",
                "items": {
                  "type": "string"
                },
                "title": "resourceTypes",
                "type": "array"
              },
              "traitTypes": {
                "description": "Select resources by trait types",
                "items": {
                  "type": "string"
                },
                "title": "traitTypes",
                "type": "array"
              }
            },
            "title": "selector",
            "type": "object"
          },
          "strategy": {
            "default": "onAppUpdate",
            "description": "Specify the strategy for target resource to recycle",
            "enum": [
              "onAppUpdate",
              "onAppDelete",
              "never"
            ],
            "title": "strategy",
            "type": "string"
          }
        },
        "required": [
          "selector",
          "strategy"
        ],
        "type": "object"
      },
      "title": "rules",
      "type": "array"
    }
  },
  "required": [
    "keepLegacyResource",
    "continueOnFailure"
  ],
  "type": "object"
}